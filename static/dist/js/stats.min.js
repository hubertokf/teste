/*
 pogomap 2017-08-04 
*/

"use strict";function countMarkers(t){document.getElementById("stats-ldg-label").innerHTML="",document.getElementById("stats-pkmn-label").innerHTML="Pokémon",document.getElementById("stats-gym-label").innerHTML="Gyms",document.getElementById("stats-pkstop-label").innerHTML="PokéStops";var a=0,e=[],o=0,n=[],s=0,d=[],m=0,r=$("#pokemonList_table").DataTable(),i=t.getBounds(),p=!1,l=!1,g=!1;if(Store.get("showPokemon")){$.each(mapData.pokemons,function(t,a){var e={lat:mapData.pokemons[t].latitude,lng:mapData.pokemons[t].longitude};(p=i.contains(e))&&(s++,0!==n[mapData.pokemons[t].pokemon_id]&&n[mapData.pokemons[t].pokemon_id]?n[mapData.pokemons[t].pokemon_id].Count+=1:n[mapData.pokemons[t].pokemon_id]={ID:mapData.pokemons[t].pokemon_id,Count:1,Name:mapData.pokemons[t].pokemon_name})});var c=[];for(a=0;a<n.length;a++)n[a]&&n[a].Count>0&&c.push(['<img class="pokemonListString" src=\'static/icons/'+n[a].ID+".png' />","<a href='http://pokemon.gameinfo.io/en/pokemon/"+n[a].ID+"' target='_blank' title='View in Pokédex' style='color: black;'>"+n[a].Name+"</a>",n[a].Count,Math.round(100*n[a].Count/s*10)/10+"%"]);$("#pokemonList_table").dataTable().show(),r.clear().rows.add(c).draw()}else r.clear().draw(),document.getElementById("pokeStatStatus").innerHTML="Pokémon markers are disabled",$("#pokemonList_table").dataTable().hide();if(Store.get("showGyms")){$.each(mapData.gyms,function(t,a){var n={lat:mapData.gyms[t].latitude,lng:mapData.gyms[t].longitude};(l=i.contains(n))&&(o++,0!==e[mapData.gyms[t].team_id]&&e[mapData.gyms[t].team_id]?e[mapData.gyms[t].team_id]+=1:e[mapData.gyms[t].team_id]=1)});var k="<table><th>Icon</th><th>Team Color</th><th>Count</th><th>%</th><tr><td></td><td>Total</td><td>"+o+"</td></tr>";for(a=0;a<e.length;a++)e[a]>0&&(k+=1===a?'<tr><td><img class="arenaListString" src="static/images/gym/Mystic.png" /></td><td>Mystic</td><td>'+e[a]+"</td><td>"+Math.round(100*e[a]/o*10)/10+"%</td></tr>":2===a?'<tr><td><img class="arenaListString" src="static/images/gym/Valor.png" /></td><td>Valor</td><td>'+e[a]+"</td><td>"+Math.round(100*e[a]/o*10)/10+"%</td></tr>":3===a?'<tr><td><img class="arenaListString" src="static/images/gym/Instinct.png" /></td><td>Instinct</td><td>'+e[a]+"</td><td>"+Math.round(100*e[a]/o*10)/10+"%</td></tr>":'<tr><td><img class="arenaListString" src="static/images/gym/Uncontested.png" /></td><td>Uncontested</td><td>'+e[a]+"</td><td>"+Math.round(100*e[a]/o*10)/10+"%</td></tr>");k+="</table>",document.getElementById("arenaList").innerHTML=k}else document.getElementById("arenaList").innerHTML="Gyms markers are disabled";if(Store.get("showPokestops")){$.each(mapData.pokestops,function(t,a){var e={lat:mapData.pokestops[t].latitude,lng:mapData.pokestops[t].longitude};(g=i.contains(e))&&(mapData.pokestops[t].lure_expiration&&mapData.pokestops[t].lure_expiration>0?0!==d[1]&&d[1]?d[1]+=1:d[1]=1:0!==d[0]&&d[0]?d[0]+=1:d[0]=1,m++)});var u="<table><th>Icon</th><th>Status</th><th>Count</th><th>%</th><tr><td></td><td>Total</td><td>"+m+"</td></tr>";for(a=0;a<d.length;a++)d[a]>0&&(0===a?u+='<tr><td><img class="pokestopListString" src="static/images/pokestop/Pokestop.png" /></td><td>Not Lured</td><td>'+d[a]+"</td><td>"+Math.round(100*d[a]/m*10)/10+"%</td></tr>":1===a&&(u+='<tr><td><img class="pokestopListString" src="static/images/pokestop/PokestopLured.png" /></td><td>Lured</td><td>'+d[a]+"</td><td>"+Math.round(100*d[a]/m*10)/10+"%</td></tr>"));u+="</table>",document.getElementById("pokestopList").innerHTML=u}else document.getElementById("pokestopList").innerHTML="PokéStops markers are disabled"}
//# sourceMappingURL=stats.min.js.map